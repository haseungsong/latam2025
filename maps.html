<!DOCTYPE html>
<html>
<head>
  <title>Maps (Seoul)</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    #map {
      height: 70vh;
      width: 100%;
    }
  </style>
</head>
<body class="bg-gray-100 p-4">
  <!-- ğŸ”™ ìƒë‹¨ ë’¤ë¡œê°€ê¸° + ì œëª© -->
  <div class="flex items-center justify-between max-w-md mx-auto mb-4">
    <button onclick="goHome()" class="text-sm text-blue-600 hover:underline">â† Back</button>
    <h1 class="text-xl font-bold text-center flex-1 -ml-6">ğŸ“ Maps</h1>
  </div>

  <!-- ëª©ì ì§€ ë²„íŠ¼ -->
<div class="grid grid-cols-2 gap-4 mb-4 max-w-md mx-auto">
  <button onclick="routeTo('shilla')" class="bg-white py-2 px-4 rounded shadow hover:bg-gray-200">ğŸ¨ The Shilla Seoul</button>
  <button onclick="routeTo('digitalcity')" class="bg-white py-2 px-4 rounded shadow hover:bg-gray-200">ğŸ¢ Samsung Digital City</button>
  <button onclick="routeTo('umyeonrnd')" class="bg-white py-2 px-4 rounded shadow hover:bg-gray-200">ğŸ¢ Umyeon R&amp;D Campus</button>
  <button onclick="routeTo('hyundae')" class="bg-white py-2 px-4 rounded shadow hover:bg-gray-200">ğŸ›ï¸ The Hyundai Seoul</button>
  <button onclick="routeTo('housenowhere')" class="bg-white py-2 px-4 rounded shadow hover:bg-gray-200">ğŸ§± House Nowhere Seoul</button>
</div>




  <!-- ê±°ë¦¬, ì‹œê°„ ì•ˆë‚´ -->
  <div id="routeInfo" class="text-center text-sm text-gray-700 mt-2 mb-4 whitespace-pre-line"></div>

  <!-- ì§€ë„ -->
  <div id="map" class="rounded shadow"></div>

  <script>
const destinations = {
    shilla:      { lat: 37.555890, lng: 127.005150 }, // ì‹ ë¼í˜¸í…” (ì¥ì¶©ë™)
    digitalcity: { lat: 37.256910, lng: 127.051260 }, // ìˆ˜ì› ë””ì§€í„¸ ì‹œí‹° (ìˆ˜ì› ì‚¼ì„±)
    umyeonrnd:   { lat: 37.466383, lng: 127.023000 }, // ìš°ë©´ R&D ìº í¼ìŠ¤ (ì„œìš¸ R&D)
    hyundae:     { lat: 37.525960, lng: 126.928420 }, // ë”í˜„ëŒ€ ì„œìš¸ (ì—¬ì˜ë„)
    housenowhere:{ lat: 37.537973, lng: 127.058702 }  // í•˜ìš°ìŠ¤ ë…¸ì›¨ì–´ ì„œìš¸ (ì„±ìˆ˜)
    };


    let map, directionsService, directionsRenderer;
    const routeInfoDiv = document.getElementById("routeInfo");

    function initMap() {
      map = new google.maps.Map(document.getElementById("map"), {
        zoom: 13,
            center: { lat: 37.5665, lng: 126.9780 }, // ì„œìš¸ ì‹œì²­ ë¶€ê·¼
      });

      directionsService = new google.maps.DirectionsService();
      directionsRenderer = new google.maps.DirectionsRenderer();
      directionsRenderer.setMap(map);
    }

    function routeTo(key) {
      const destination = destinations[key];

      navigator.geolocation.getCurrentPosition(
        (position) => {
          const origin = {
            lat: position.coords.latitude,
            lng: position.coords.longitude
          };

          // ğŸ”„ ì´ì „ ê²½ë¡œ ì œê±°í•˜ê³  ìƒˆë¡œ ì„¸íŒ…
          directionsRenderer.setMap(null);
          directionsRenderer = new google.maps.DirectionsRenderer();
          directionsRenderer.setMap(map);

          directionsService.route(
            {
              origin: origin,
              destination: destination,
              travelMode: google.maps.TravelMode.WALKING,
            },
            (response, status) => {
              if (status === "OK") {
                directionsRenderer.setDirections(response);
                const leg = response.routes[0].legs[0];
                routeInfoDiv.innerText = `ğŸš¶ ${leg.start_address} â†’ ${leg.end_address}\nâ±ï¸ ${leg.duration.text} (${leg.distance.text})`;
              } else {
                alert("ê²½ë¡œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤: " + status);
                routeInfoDiv.innerText = "";
              }
            }
          );
        },
        () => {
          alert("í˜„ì¬ ìœ„ì¹˜ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
          routeInfoDiv.innerText = "";
        }
      );
    }
  </script>

  <!-- âœ… Google Maps API Key ë„£ê¸° -->
  <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAfHkgQ8w0T0-JlGESZiLbFAAgULg46I4A&callback=initMap">
  </script>

  <script>
    function goHome() {
      window.location.href = "index.html"; // ì›í•˜ëŠ” í™ˆ ê²½ë¡œë¡œ ìˆ˜ì • ê°€ëŠ¥
    }
  </script>

</body>
</html>
